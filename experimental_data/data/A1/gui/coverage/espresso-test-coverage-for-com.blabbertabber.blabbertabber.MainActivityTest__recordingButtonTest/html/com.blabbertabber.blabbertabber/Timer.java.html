<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Timer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">com.blabbertabber.blabbertabber</a> &gt; <span class="el_source">Timer.java</span></div><h1>Timer.java</h1><pre class="source lang-java linenums">package com.blabbertabber.blabbertabber;

/**
 * Simple Timer class to track the length of meetings, and to pause when appropriate
 */
public class Timer {
    private long startTime;
    private long elapsedTime;
<span class="nc" id="L9">    private boolean started = false;</span>
<span class="nc" id="L10">    private boolean running = false;</span>

<span class="nc" id="L12">    public Timer() {</span>
<span class="nc" id="L13">        reset();</span>
<span class="nc" id="L14">    }</span>

<span class="nc" id="L16">    public Timer(long elapsedTimeMillis) {</span>
<span class="nc" id="L17">        reset();</span>
<span class="nc" id="L18">        elapsedTime = elapsedTimeMillis;</span>
<span class="nc" id="L19">        started = true;</span>
<span class="nc" id="L20">    }</span>

    /**
     * How much time has elapsed
     *
     * @return long the number of milliseconds elapsed, e.g. 5000 =&gt; 5 seconds
     */
    public long time() {
<span class="nc bnc" id="L28" title="All 2 branches missed.">        if (started) {</span>
<span class="nc bnc" id="L29" title="All 2 branches missed.">            if (running) {</span>
<span class="nc" id="L30">                return System.currentTimeMillis() - startTime;</span>
            } else {
<span class="nc" id="L32">                return elapsedTime;</span>
            }
        } else {
<span class="nc" id="L35">            return 0; // we haven't started yet</span>
        }
    }

    /**
     * resets the timer. Time elapsed is back to 0; the timer is not running.
     */
    public void reset() {
<span class="nc" id="L43">        started = false;</span>
<span class="nc" id="L44">        running = false;</span>
<span class="nc" id="L45">        startTime = 0;</span>
<span class="nc" id="L46">        elapsedTime = 0;</span>
<span class="nc" id="L47">    }</span>

    /**
     * begins the timer (clicking the start button on a stopwatch)
     */
    public void start() {
<span class="nc bnc" id="L53" title="All 2 branches missed.">        if (!started) {</span>
<span class="nc" id="L54">            started = true;</span>
<span class="nc" id="L55">            running = true;</span>
<span class="nc" id="L56">            startTime = System.currentTimeMillis();</span>
        } else {
<span class="nc bnc" id="L58" title="All 2 branches missed.">            if (!running) {</span>
<span class="nc" id="L59">                running = true;</span>
<span class="nc" id="L60">                startTime = System.currentTimeMillis() - elapsedTime;</span>
            }
        }
<span class="nc" id="L63">    }</span>

    /**
     * pauses the timer. The timer will no longer increment the elapsed amount of time
     * but won't reset it either. call start() to resume the incrementing of elapsed time.
     */
    public void stop() {
<span class="nc bnc" id="L70" title="All 2 branches missed.">        if (running) {</span>
<span class="nc" id="L71">            running = false;</span>
<span class="nc" id="L72">            elapsedTime = System.currentTimeMillis() - startTime;</span>
        }
<span class="nc" id="L74">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>